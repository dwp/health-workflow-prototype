{% extends "layout.html" %}

{% block pageTitle %}
Referral list
{% endblock %}

{% block beforeContent %}
<a href="start" class="govuk-back-link">Back</a>
{% endblock %}

{% block content %}

<!-- <div class="govuk-grid-row">
  <div class="govuk-grid-column-full">
    <h1 class="govuk-heading-l">
      New referrals
    </h1>
  </div>
</div> -->

<div class="govuk-grid-row">
  <div class="govuk-grid-column-full">

    <h1 class="govuk-heading-l">
      Assessment booked referrals
    </h1>

    <table class="govuk-table">
      <thead class="govuk-table__head">
        <tr class="govuk-table__row">
          <th scope="col" class="govuk-table__header">Claimant name</th>
          <th scope="col" class="govuk-table__header">NI number</th>
          <th scope="col" class="govuk-table__header">Benefit</th>
          <th scope="col" class="govuk-table__header">Referral date</th>
          <th scope="col" class="govuk-table__header" style="width:8%">End of life</th>
          <th scope="col" class="govuk-table__header">Assessment centre</th>
          <th scope="col" class="govuk-table__header">Next action due</th>
        </tr>
      </thead>
      <tbody class="govuk-table__body">
        <tr class="govuk-table__row">
          <td class="govuk-table__cell"><a href="claimant-detail-start-assessment" aria-describedby="claimant-detail-start-assessment">John Doe</a></td>
          <td class="govuk-table__cell">RN 00 01 23 A</td>
          <td class="govuk-table__cell">UC</td>
          <td class="govuk-table__cell">1 Feb 2021</td>
          <td class="govuk-table__cell">No</td>
          <td class="govuk-table__cell">Tresco House</td>
          <td class="govuk-table__cell">1 day</td>
        </tr>
        <tr class="govuk-table__row">
          <td class="govuk-table__cell"><a href="claimant-detail-start-assessment" aria-describedby="claimant-detail-start-assessment">Janette Rafe</a></td>
          <td class="govuk-table__cell">RN 00 11 23 A</td>
          <td class="govuk-table__cell">ESA</td>
          <td class="govuk-table__cell">16 Feb 2021</td>
          <td class="govuk-table__cell">No</td>
          <td class="govuk-table__cell">Tresco House</td>
          <td class="govuk-table__cell">1 day</td>
        </tr>
        <tr class="govuk-table__row">
          <td class="govuk-table__cell"><a href="claimant-detail-start-assessment" aria-describedby="claimant-detail">Noelle Carmel</a></td>
          <td class="govuk-table__cell">RN 00 04 26 D</td>
          <td class="govuk-table__cell">PIP</td>
          <td class="govuk-table__cell">10 Feb 2021</td>
          <td class="govuk-table__cell">No</td>
          <td class="govuk-table__cell">Tresco House</td>
          <td class="govuk-table__cell">1 day</td>
        </tr>
        <tr class="govuk-table__row">
          <td class="govuk-table__cell"><a href="claimant-detail-start-assessment" aria-describedby="claimant-detail-start-assessment">Sylevette Colwyn</a></td>
          <td class="govuk-table__cell">RN 00 01 11 N</td>
          <td class="govuk-table__cell">PIP</td>
          <td class="govuk-table__cell">10 Feb 2021</td>
          <td class="govuk-table__cell">No</td>
          <td class="govuk-table__cell">Tresco House</td>
          <td class="govuk-table__cell">1 day</td>
        </tr>
        <tr class="govuk-table__row">
          <td class="govuk-table__cell"><a href="claimant-detail-start-assessment" aria-describedby="claimant-detail-start-assessment">Ethan Thornton</td>
          <td class="govuk-table__cell">RN 00 01 61 D</td>
          <td class="govuk-table__cell">PIP</td>
          <td class="govuk-table__cell">10 Feb 2021</td>
          <td class="govuk-table__cell">No</td>
          <td class="govuk-table__cell">Tresco House</td>
          <td class="govuk-table__cell">1 day</td>
        </tr>
        <tr class="govuk-table__row">
          <td class="govuk-table__cell"><a href="claimant-detail-start-assessment" aria-describedby="claimant-detail-start-assessment">Paige Gael</a></td>
          <td class="govuk-table__cell">RN 00 07 71 T</td>
          <td class="govuk-table__cell">PIP</td>
          <td class="govuk-table__cell">10 Feb 2021</td>
          <td class="govuk-table__cell">No</td>
          <td class="govuk-table__cell">Tresco House</td>
          <td class="govuk-table__cell">1 day</td>
        </tr>
        <tr class="govuk-table__row">
          <td class="govuk-table__cell"><a href="claimant-detail-start-assessment" aria-describedby="claimant-detail-start-assessment">Gilbert Mills</a></td>
          <td class="govuk-table__cell">RN 00 02 22 K</td>
          <td class="govuk-table__cell">UC</td>
          <td class="govuk-table__cell">1 Feb 2021</td>
          <td class="govuk-table__cell">No</td>
          <td class="govuk-table__cell">Tresco House</td>
          <td class="govuk-table__cell">1 days</td>
        </tr>
        <tr class="govuk-table__row">
          <td class="govuk-table__cell"><a href="claimant-detail-start-assessment" aria-describedby="claimant-detail-start-assessment">Cherise Kaufman</a></td>
          <td class="govuk-table__cell">RN 00 10 10 R</td>
          <td class="govuk-table__cell">ESA</td>
          <td class="govuk-table__cell">16 Feb 2021</td>
          <td class="govuk-table__cell">No</td>
          <td class="govuk-table__cell">Tresco House</td>
          <td class="govuk-table__cell">8 days</td>
        </tr>
        <tr class="govuk-table__row">
          <td class="govuk-table__cell"><a href="claimant-detail-start-assessment" aria-describedby="claimant-detail">Rory Whelan</a></td>
          <td class="govuk-table__cell">RN 00 23 95 H</td>
          <td class="govuk-table__cell">PIP</td>
          <td class="govuk-table__cell">10 Feb 2021</td>
          <td class="govuk-table__cell">No</td>
          <td class="govuk-table__cell">Tresco House</td>
          <td class="govuk-table__cell">10 days</td>
        </tr>
        <tr class="govuk-table__row">
          <td class="govuk-table__cell"><a href="claimant-detail-start-assessment" aria-describedby="claimant-detail-start-assessment">Stephan Miles</a></td>
          <td class="govuk-table__cell">RN 00 01 11 N</td>
          <td class="govuk-table__cell">PIP</td>
          <td class="govuk-table__cell">10 Feb 2021</td>
          <td class="govuk-table__cell">No</td>
          <td class="govuk-table__cell">Tresco House</td>
          <td class="govuk-table__cell">16 days</td>
        </tr>
        <tr class="govuk-table__row">
          <td class="govuk-table__cell"><a href="claimant-detail-start-assessment" aria-describedby="claimant-detail-start-assessment">Katrina Wolfe</td>
          <td class="govuk-table__cell">RN 00 03 33 T</td>
          <td class="govuk-table__cell">PIP</td>
          <td class="govuk-table__cell">10 Feb 2021</td>
          <td class="govuk-table__cell">No</td>
          <td class="govuk-table__cell">Handsworth</td>
          <td class="govuk-table__cell">22 days</td>
        </tr>
        <tr class="govuk-table__row">
          <td class="govuk-table__cell"><a href="claimant-detail-start-assessment" aria-describedby="claimant-detail-start-assessment">Harry Neville</a></td>
          <td class="govuk-table__cell">RN 00 22 22 H</td>
          <td class="govuk-table__cell">PIP</td>
          <td class="govuk-table__cell">10 Feb 2021</td>
          <td class="govuk-table__cell">No</td>
          <td class="govuk-table__cell">Handsworth</td>
          <td class="govuk-table__cell">26 days</td>
        </tr>
        <tr class="govuk-table__row">
          <td class="govuk-table__cell"><a href="claimant-detail-start-assessment" aria-describedby="claimant-detail">Elizabeth Almond</a></td>
          <td class="govuk-table__cell">RN 00 01 96 Z</td>
          <td class="govuk-table__cell">PIP</td>
          <td class="govuk-table__cell">10 Feb 2021</td>
          <td class="govuk-table__cell">No</td>
          <td class="govuk-table__cell">Handsworth</td>
          <td class="govuk-table__cell">31 days</td>
        </tr>
        <tr class="govuk-table__row">
          <td class="govuk-table__cell"><a href="claimant-detail-start-assessment" aria-describedby="claimant-detail-start-assessment">Sam Smart</a></td>
          <td class="govuk-table__cell">RN 00 09 83 A</td>
          <td class="govuk-table__cell">PIP</td>
          <td class="govuk-table__cell">10 Feb 2021</td>
          <td class="govuk-table__cell">No</td>
          <td class="govuk-table__cell">Handsworth</td>
          <td class="govuk-table__cell">31 days</td>
        </tr>
        <tr class="govuk-table__row">
          <td class="govuk-table__cell"><a href="claimant-detail-start-assessment" aria-describedby="claimant-detail-start-assessment">Luce Deryn</td>
          <td class="govuk-table__cell">RN 00 01 46 A</td>
          <td class="govuk-table__cell">PIP</td>
          <td class="govuk-table__cell">10 Feb 2021</td>
          <td class="govuk-table__cell">No</td>
          <td class="govuk-table__cell">Handsworth</td>
          <td class="govuk-table__cell">36 days</td>
        </tr>
        <tr class="govuk-table__row">
          <td class="govuk-table__cell"><a href="claimant-detail-start-assessment" aria-describedby="claimant-detail-start-assessment">Delia Durham</a></td>
          <td class="govuk-table__cell">RN 00 01 73 B</td>
          <td class="govuk-table__cell">PIP</td>
          <td class="govuk-table__cell">10 Feb 2021</td>
          <td class="govuk-table__cell">No</td>
          <td class="govuk-table__cell">Handsworth</td>
          <td class="govuk-table__cell">37 days</td>
        </tr>
        <tr class="govuk-table__row">
          <td class="govuk-table__cell"><a href="claimant-detail-start-assessment" aria-describedby="claimant-detail-start-assessment">Esther Rayner</td>
          <td class="govuk-table__cell">RN 00 01 26 F</td>
          <td class="govuk-table__cell">PIP</td>
          <td class="govuk-table__cell">10 Feb 2021</td>
          <td class="govuk-table__cell">No</td>
          <td class="govuk-table__cell">Handsworth</td>
          <td class="govuk-table__cell">42 days</td>
        </tr>
        <tr class="govuk-table__row">
          <td class="govuk-table__cell"><a href="claimant-detail-start-assessment" aria-describedby="claimant-detail-start-assessment">Paige Gael</a></td>
          <td class="govuk-table__cell">RN 00 07 71 T</td>
          <td class="govuk-table__cell">PIP</td>
          <td class="govuk-table__cell">10 Feb 2021</td>
          <td class="govuk-table__cell">No</td>
          <td class="govuk-table__cell">Handsworth</td>
          <td class="govuk-table__cell">42 days</td>
        </tr>
        <tr class="govuk-table__row">
          <td class="govuk-table__cell"><a href="claimant-detail-start-assessment" aria-describedby="claimant-detail-start-assessment">Maha Hansen</td>
          <td class="govuk-table__cell">RN 00 08 24 J</td>
          <td class="govuk-table__cell">PIP</td>
          <td class="govuk-table__cell">10 Feb 2021</td>
          <td class="govuk-table__cell">No</td>
          <td class="govuk-table__cell">Handsworth</td>
          <td class="govuk-table__cell">43 days</td>
        </tr>
        <tr class="govuk-table__row">
          <td class="govuk-table__cell"><a href="claimant-detail-start-assessment" aria-describedby="claimant-detail-start-assessment">John-Paul Green</a></td>
          <td class="govuk-table__cell">RN 00 09 29 C</td>
          <td class="govuk-table__cell">PIP</td>
          <td class="govuk-table__cell">10 Feb 2021</td>
          <td class="govuk-table__cell">No</td>
          <td class="govuk-table__cell">Handsworth</td>
          <td class="govuk-table__cell">44 days</td>
        </tr>
        <tr class="govuk-table__row">
          <td class="govuk-table__cell"><a href="claimant-detail-start-assessment" aria-describedby="claimant-detail-start-assessment">Connah Nava</td>
          <td class="govuk-table__cell">RN 00 31 29 B</td>
          <td class="govuk-table__cell">PIP</td>
          <td class="govuk-table__cell">10 Feb 2021</td>
          <td class="govuk-table__cell">No</td>
          <td class="govuk-table__cell">Handsworth</td>
          <td class="govuk-table__cell">47 days</td>
        </tr>
        <tr class="govuk-table__row">
          <td class="govuk-table__cell"><a href="claimant-detail-start-assessment" aria-describedby="claimant-detail-start-assessment">Seb Heath</a></td>
          <td class="govuk-table__cell">RN 00 41 73 D</td>
          <td class="govuk-table__cell">PIP</td>
          <td class="govuk-table__cell">10 Feb 2021</td>
          <td class="govuk-table__cell">No</td>
          <td class="govuk-table__cell">Handsworth</td>
          <td class="govuk-table__cell">50 days</td>
        </tr>
        <tr class="govuk-table__row">
          <td class="govuk-table__cell"><a href="claimant-detail-start-assessment" aria-describedby="claimant-detail-start-assessment">Mildred Mccallum</td>
          <td class="govuk-table__cell">RN 00 78 46 G</td>
          <td class="govuk-table__cell">PIP</td>
          <td class="govuk-table__cell">10 Feb 2021</td>
          <td class="govuk-table__cell">No</td>
          <td class="govuk-table__cell">Handsworth</td>
          <td class="govuk-table__cell">50 days</td>
        </tr>
        <tr class="govuk-table__row">
          <td class="govuk-table__cell"><a href="claimant-detail-start-assessment" aria-describedby="claimant-detail-start-assessment">Dennis Briggs</a></td>
          <td class="govuk-table__cell">RN 00 09 72 D</td>
          <td class="govuk-table__cell">PIP</td>
          <td class="govuk-table__cell">10 Feb 2021</td>
          <td class="govuk-table__cell">No</td>
          <td class="govuk-table__cell">Handsworth</td>
          <td class="govuk-table__cell">53 days</td>
        </tr>
        <tr class="govuk-table__row">
          <td class="govuk-table__cell"><a href="claimant-detail-start-assessment" aria-describedby="claimant-detail-start-assessment">Griff Reese</td>
          <td class="govuk-table__cell">RN 00 09 11 F</td>
          <td class="govuk-table__cell">PIP</td>
          <td class="govuk-table__cell">10 Feb 2021</td>
          <td class="govuk-table__cell">No</td>
          <td class="govuk-table__cell">Handsworth</td>
          <td class="govuk-table__cell">54 days</td>
        </tr>
        <tr class="govuk-table__row">
          <td class="govuk-table__cell"><a href="claimant-detail-start-assessment" aria-describedby="claimant-detail-start-assessment">Ida Bates</a></td>
          <td class="govuk-table__cell">RN 00 11 12 B</td>
          <td class="govuk-table__cell">PIP</td>
          <td class="govuk-table__cell">10 Feb 2021</td>
          <td class="govuk-table__cell">No</td>
          <td class="govuk-table__cell">Handsworth</td>
          <td class="govuk-table__cell">61 days</td>
        </tr>
      </tbody>
    </table>

    <!-- <div class="pagination" id="pagination">
      <div class="pagination__summary">
        Showing 1 - 20 of <span id="paginationTotal">60</span> results
      </div>
      <nav class="govuk-pagination" role="navigation" aria-label="results">
        <ul class="govuk-pagination__list">
          <li class="govuk-pagination__item govuk-pagination__item--current">
            <a class="govuk-link govuk-pagination__link" href="#" aria-label="Page 1" aria-current="page">
              1
            </a>
          </li>
          <li class="govuk-pagination__item">
            <a class="govuk-link govuk-pagination__link" href="#" aria-label="Page 2">
              2
            </a>
          </li>
          <li class="govuk-pagination__item">
            <a class="govuk-link govuk-pagination__link" href="#" aria-label="Page 3">
              3
            </a>
          </li>
        </ul>
        <div class="govuk-pagination__next">
          <a class="govuk-link govuk-pagination__link" href="#" rel="next"> <span class="govuk-pagination__link-title">Next</span> <svg class="govuk-pagination__icon govuk-pagination__icon--next" xmlns="http://www.w3.org/2000/svg" height="13" width="15" aria-hidden="true" focusable="false" viewBox="0 0 15 13">
              <path d="m8.107-0.0078125-1.4136 1.414 4.2926 4.293h-12.986v2h12.896l-4.1855 3.9766 1.377 1.4492 6.7441-6.4062-6.7246-6.7266z"></path>
            </svg></a>
        </div>
      </nav>
    </div> -->


  </div>
</div>

<!-- <script>

  function hideAllWithClass(classname) {
    document.querySelectorAll("." + classname).forEach((element) => {
      element.style.visibility = 'collapse';
    });
  }

  function showAllWithClass(classname) {
    document.querySelectorAll("." + classname).forEach((element) => {
      element.style.visibility = 'visible';
    });
  }

  document.querySelector("#filters").addEventListener("submit", function (e) {

    e.preventDefault();    //stop form from submitting

    showAllWithClass("esa");
    showAllWithClass("pip");
    showAllWithClass("uc");
    showAllWithClass("tresco");
    showAllWithClass("handsworth");
    showAllWithClass("srel");
    showAllWithClass("no-srel");

    let benefitTypes = [];
    let sites = [];

    if (document.getElementById('srel').checked == true) {
      hideAllWithClass("no-srel");
    }

    if (document.getElementById('pip').checked == true || document.getElementById('esa').checked == true || document.getElementById('uc').checked == true) {
      if (document.getElementById('pip').checked == false) {
        hideAllWithClass("pip");
      } else {
        benefitTypes.push("Personal Independence Payment");
      }

      if (document.getElementById('esa').checked == false) {
        hideAllWithClass("esa");
      } else {
        benefitTypes.push("Employment Support Allowance");
      }

      if (document.getElementById('uc').checked == false) {
        hideAllWithClass("uc");
      } else {
        benefitTypes.push("Universal Credit");
      }
    }

    if (document.getElementById('handsworth').checked == true || document.getElementById('tresco').checked == true) {
      if (document.getElementById('handsworth').checked == false) {
        hideAllWithClass("handsworth");
      } else {
        sites.push("Handsworth");
      }

      if (document.getElementById('tresco').checked == false) {
        hideAllWithClass("tresco");
      } else {
        sites.push('Tresco');
      }
    }

    var count = 0;
    var elemnts = document
      .querySelectorAll('.govuk-table tr').forEach((element) => {
        if (element.style.visibility === 'visible') {
          count += 1;
        }
      })

    if (count < 20) {
      document.getElementById('pagination').style.visibility = 'collapse';
    } else {
      document.getElementById('pagination').style.visibility = 'visible';
    }

    document.getElementById('paginationTotal').innerText = count;

    // var eol = document.getElementById('srel').checked ? " end of life" : "";
    // var benefitTypeString = benefitTypes.join(", ");
    // var sitesString = sites.join(", ");
    // var ifBenefitType = benefitTypes.length > 0 ? ' for ' : '';
    // var ifSites = sites.length > 0 ? ' at ' : '';

    //11 HCP review end of life referrals in PIP, ESA, UC at Birmingham Handsworth
    // var text = count + " report ready " + eol + " referrals " + ifBenefitType + benefitTypeString + ifSites + sitesString;
    var text = count + " referrals";

    document.getElementById('filter-playback').innerText = text;

    // document.getElementById('srelCount').innertext = document.querySelectorAll('.govuk-table tr.srel').length;

  });

</script> -->

{% endblock %}
